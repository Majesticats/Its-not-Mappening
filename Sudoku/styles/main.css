:root { --grid:#d1d5db; --ink:#111827; --accent:#3b82f6; }
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,Segoe UI,Roboto,Inter,Arial;background:#fafafa;color:var(--ink);display:grid;place-items:center;min-height:100vh}
.app{width:min(92vw,520px);padding:16px}
.board{display:grid;grid-template-columns:repeat(9,1fr);border:2px solid var(--ink);background:#fff;aspect-ratio:1/1}
.cell{border:1px solid var(--grid);display:grid;place-items:center;font-size:clamp(14px,3.5vw,22px);outline:none;cursor:pointer;user-select:none}
.cell.given{background:#f3f4f6;font-weight:700}
.cell.conflict{background:#fee2e2}
.cell:focus{box-shadow:inset 0 0 0 3px var(--accent)}
.cell.bL{border-left-width:2px}.cell.bR{border-right-width:2px}
.cell.bT{border-top-width:2px}.cell.bB{border-bottom-width:2px}
.panel{display:flex;gap:8px;margin-top:12px;flex-wrap:wrap}
button{padding:8px 12px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;cursor:pointer}
button:hover{border-color:var(--accent)}
.status{margin-top:8px;font-size:.9rem;opacity:.8}

/* --- Step 6 highlights --- */
.cell.selected{ outline: 3px solid var(--accent); outline-offset:-3px; background:#eaf2ff }
.cell.peer{ background:#f3f4f6 }
.cell.same{ background:#dbeafe; font-weight:700 }

/* Dark mode (auto) */
@media (prefers-color-scheme: dark){
  :root { --grid:#374151; --ink:#e5e7eb; --accent:#60a5fa; }
  body{ background:#0b0f17; }
  .board{ border-color:#9ca3af; background:#0f1620; }
  .cell{ border-color:#1f2937; }
  .cell.given{ background:#111827; }
  .cell.conflict{ background:#3b0d0d; }
  .cell.selected{ background:#0b2347; }
  .cell.peer{ background:#121826; }
  .cell.same{ background:#0a2a55; }
  button{ background:#0f1620; color:var(--ink); border-color:#1f2937; }
}

/* Keypad layout */
.keypad{ display:grid; grid-template-columns: repeat(5, 1fr); gap:8px; margin-top:12px }
.keypad button{ padding:10px 0; font-size:1rem; border-radius:10px }
.keypad button[data-action="erase"]{ font-variant:small-caps }
